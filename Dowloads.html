<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MacaWelds - Free Downloads</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <nav>
            <ul class="menu">
                <li>
                    <a href="./index.html">Home</a>
                </li>
                <li>
                    <a href="./MacaWelds.html">Welding & Engineering</a>
                    <ul>
                        <li><a href="#welding-services">Welding Services</a></li>
                        <li><a href="#engineering-services">Engineering Services</a></li>
                    </ul>
                <li>
                    <a href="./MacaDesign.html">SolidWorks Drawings</a>
                    <ul>
                        <li><a href="#assembly-designs">Assembly Designs</a></li>
                        <li><a href="#engineering-drawings">Engineering Drawings</a></li>
                    </ul>
                </li>
                <li>
                    <a href="./maca3d.html">3D Printing</a>
                    <ul>
                        <li><a href="./Pokemon.html">Pokemon</a></li>
                        <li><a href="./Gaming.html">Gaming Mods</a></li>
                        <li><a href="./FunctionalPrints.html">Functional Prints</a></li>
                        <li><a href="./maca3d4sale.html">3D Print Shop</a></li>
                    </ul>
                </li>
                <li><a href="./Dowloads.html">Downloads</a></li>
                <li><a href="./about.html">About</a></li>
                <li><a href="./contact.html">Contact</a></li>
            </ul>
        </nav>
        <h1 class="website-name">MacaWelds | MacaDesigns | Maca3D</h1>
    </header>

    <section>
        <h2>Downloads</h2>
        <div class="thumbnails-gallery">
            <div class="thumbnails-info">
                <a href="./Downloads/Cat Food Lid.STL" class="thumbnail-download"
                    onclick="confirmDownload('Cat Food Lid.STL')">
                    <img src="./Images/Maca3D/House/Pets/Cat Food Lid2.JPG" alt="Cat Food Lid">
                    <img src="./Images/Maca3D/House/Pets/Cat Food Lid.JPG" alt="Cat Food Lid">
                </a>
                <p>Printed in TPU Fits straight onto cat food tins to keep fresh</p>
            </div>
            <div class="thumbnails-info">
                <a href="./Downloads/Momo Brock - Brock Momo wheels-1.3mf" class="thumbnail-download"
                    onclick="confirmDownload('Momo Brock - Brock Momo wheels-1.3mf')">
                    <img src="./Images/Maca3D/For Sale/Mag Wheels/Momo Brock Complete.JPG"
                        alt="Peter Brock Momo Wheels">
                </a>
                <p>Replica of the Momo Wheel run by the Legend Peter Brock
                    Tyre TPU Rim PLA/PETG
                </p>
            </div>

            <!-- Image to open the math quiz modal -->
            <img src="./Images/backgrounds/R18.png" alt="R18 Content" onclick="openMathQuiz()" style="cursor: pointer;">
        </div>

        <!-- The Modal -->
        <div id="mathQuizModal" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <span class="close" onclick="closeMathQuiz()">&times;</span>
                <h2>Math Quiz</h2>
                <p id="mathEquation"></p>
                <input type="text" id="userAnswer" placeholder="Your Answer">
                <button onclick="checkAnswer()">Submit</button>
            </div>
        </div>

    </section>

    <footer class="footer">
        <h2>Contact Us</h2>
        <p>Email: <a href="mailto:MacaWelds@outlook.com">MacaWelds@outlook.com</a></p>
        <p>Phone: <a href="tel:+64278909399">+64 27 890 9399</a></p>
        <p>Papanui, Christchurch</p>
        <p>&copy; 2023 MacaWelds. All rights reserved.</p>
    </footer>
    <script>
 function incrementDownloadCount(fileName) {
    // Make a request to the GitHub API to update the download count
    fetch(`https://api.github.com/repos/yourusername/your-repo/contents/download_counter.json`)
        .then(response => response.json())
        .then(data => {
            // Decode the content from Base64 and parse as JSON
            const downloadCounts = JSON.parse(atob(data.content));

            // Increment the download count for the specific file
            downloadCounts[fileName] = (downloadCounts[fileName] || 0) + 1;

            // Encode the updated content to Base64
            const updatedContent = btoa(JSON.stringify(downloadCounts));

            // Make another request to update the file using GitHub API
            return fetch(`https://api.github.com/repos/yourusername/your-repo/contents/download_counter.json`, {
                method: 'PUT',
                headers: {
                    'Authorization': 'Bearer YOUR_PERSONAL_ACCESS_TOKEN',
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    message: 'Increment download count',
                    content: updatedContent,
                    sha: data.sha,
                }),
            });
        })
        .then(response => response.json())
        .then(data => {
            // Log the updated download count (optional)
            console.log(`Download count for ${fileName}: ${downloadCounts[fileName]}`);
        })
        .catch(error => {
            console.error('Error:', error);
        });
}
    </script>
</body>

</html>